import{R as e}from"./index-CTjT7uj6.js";import{m as R}from"./makeStyles-DFHNDtjR.js";import{E as p}from"./ErrorPanel-C_V1hXEZ.js";import{L as d}from"./ListItem-BX8d_s0j.js";import{L as g}from"./ListItemText-DDba65AT.js";import{C as S}from"./CopyTextButton-DHea31MM.js";import{D as v}from"./Divider-YusUzn_w.js";import{C as h}from"./CodeSnippet-B1Loi5VD.js";const q=R(t=>({text:{fontFamily:"monospace",whiteSpace:"pre",overflowX:"auto",marginRight:t.spacing(2)},divider:{margin:t.spacing(2)}}),{name:"BackstageResponseErrorPanel"});function C(t){var c;const{title:i,error:r,defaultExpanded:m}=t,a=q();if(r.name!=="ResponseError")return e.createElement(p,{title:i??r.message,defaultExpanded:m,error:r});const{body:l,cause:n}=r,{request:s,response:f}=l,u=`${f.statusCode}: ${n.name}`,o=s&&`${s.method} ${s.url}`,E=n.message.replace(/\\n/g,`
`),y=(c=n.stack)==null?void 0:c.replace(/\\n/g,`
`),x=JSON.stringify(l,void 0,2);return e.createElement(p,{title:i??r.message,defaultExpanded:m,error:{name:u,message:E,stack:y}},o&&e.createElement(d,{alignItems:"flex-start"},e.createElement(g,{classes:{secondary:a.text},primary:"Request",secondary:s?`${o}`:void 0}),e.createElement(S,{text:o})),e.createElement(e.Fragment,null,e.createElement(v,{component:"li",className:a.divider}),e.createElement(d,{alignItems:"flex-start"},e.createElement(g,{classes:{secondary:a.text},primary:"Full Error as JSON"})),e.createElement(h,{language:"json",text:x,showCopyCodeButton:!0})))}C.__docgenInfo={description:`Renders a warning panel as the effect of a failed server request.

@remarks
Has special treatment for ResponseError errors, to display rich
server-provided information about what happened.`,methods:[],displayName:"ResponseErrorPanel",props:{error:{required:!0,tsType:{name:"Error"},description:""},defaultExpanded:{required:!1,tsType:{name:"boolean"},description:""},titleFormat:{required:!1,tsType:{name:"string"},description:""},title:{required:!1,tsType:{name:"string"},description:""}}};export{C as R};
